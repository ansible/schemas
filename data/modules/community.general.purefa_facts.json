{
    "community.general.purefa_facts": {
        "doc": {
            "author": [
                "Pure Storage ansible Team (@sdodsley) <pure-ansible-team@purestorage.com>"
            ],
            "collection": "community.general",
            "deprecated": {
                "alternative": "Use M(purestorage.flasharray.purefa_info) instead.",
                "removed_from_collection": "community.general",
                "removed_in": "3.0.0",
                "why": "Deprecated in favor of C(_info) module."
            },
            "description": [
                "Collect facts information from a Pure Storage Flasharray running the Purity//FA operating system. By default, the module will collect basic fact information including hosts, host groups, protection groups and volume counts. Additional fact information can be collected based on the configured set of arguments."
            ],
            "filename": "/Users/ssbarnea/.pyenv/versions/3.9.2/lib/python3.9/site-packages/ansible_collections/community/general/plugins/modules/purefa_facts.py",
            "has_action": false,
            "module": "purefa_facts",
            "notes": [
                "This module requires the C(purestorage) Python library",
                "You must set C(PUREFA_URL) and C(PUREFA_API) environment variables if I(fa_url) and I(api_token) arguments are not passed to the module directly"
            ],
            "options": {
                "api_token": {
                    "description": [
                        "FlashArray API token for admin privileged user."
                    ],
                    "required": true,
                    "type": "str"
                },
                "fa_url": {
                    "description": [
                        "FlashArray management IPv4 address or Hostname."
                    ],
                    "required": true,
                    "type": "str"
                },
                "gather_subset": {
                    "default": "minimum",
                    "description": [
                        "When supplied, this argument will define the facts to be collected. Possible values for this include all, minimum, config, performance, capacity, network, subnet, interfaces, hgroups, pgroups, hosts, admins, volumes, snapshots, pods, vgroups, offload, apps and arrays."
                    ],
                    "required": false,
                    "type": "list"
                }
            },
            "requirements": [
                "python >= 2.7",
                "purestorage"
            ],
            "short_description": "Collect facts from Pure Storage FlashArray"
        },
        "examples": "\n- name: Collect default set of facts\n  community.general.purefa_facts:\n    fa_url: 10.10.10.2\n    api_token: e31060a7-21fc-e277-6240-25983c6c4592\n\n- name: Collect configuration and capacity facts\n  community.general.purefa_facts:\n    gather_subset:\n      - config\n      - capacity\n    fa_url: 10.10.10.2\n    api_token: e31060a7-21fc-e277-6240-25983c6c4592\n\n- name: Collect all facts\n  community.general.purefa_facts:\n    gather_subset:\n      - all\n    fa_url: 10.10.10.2\n    api_token: e31060a7-21fc-e277-6240-25983c6c4592\n",
        "metadata": null,
        "return": {
            "ansible_facts": {
                "description": "Returns the facts collected from the FlashArray",
                "returned": "always",
                "sample": {
                    "capacity": {},
                    "config": {
                        "directory_service": {
                            "array_admin_group": null,
                            "base_dn": null,
                            "bind_password": null,
                            "bind_user": null,
                            "check_peer": false,
                            "enabled": false,
                            "group_base": null,
                            "readonly_group": null,
                            "storage_admin_group": null,
                            "uri": []
                        },
                        "dns": {
                            "domain": "domain.com",
                            "nameservers": [
                                "8.8.8.8",
                                "8.8.4.4"
                            ]
                        },
                        "ntp": [
                            "0.ntp.pool.org",
                            "1.ntp.pool.org",
                            "2.ntp.pool.org",
                            "3.ntp.pool.org"
                        ],
                        "smtp": [
                            {
                                "enabled": true,
                                "name": "alerts@acme.com"
                            },
                            {
                                "enabled": true,
                                "name": "user@acme.com"
                            }
                        ],
                        "snmp": [
                            {
                                "auth_passphrase": null,
                                "auth_protocol": null,
                                "community": null,
                                "host": "localhost",
                                "name": "localhost",
                                "privacy_passphrase": null,
                                "privacy_protocol": null,
                                "user": null,
                                "version": "v2c"
                            }
                        ],
                        "ssl_certs": {
                            "country": null,
                            "email": null,
                            "issued_by": "",
                            "issued_to": "",
                            "key_size": 2048,
                            "locality": null,
                            "organization": "Acme Storage, Inc.",
                            "organizational_unit": "Acme Storage, Inc.",
                            "state": null,
                            "status": "self-signed",
                            "valid_from": "2017-08-11T23:09:06Z",
                            "valid_to": "2027-08-09T23:09:06Z"
                        },
                        "syslog": []
                    },
                    "default": {
                        "array_name": "flasharray1",
                        "connected_arrays": 1,
                        "hostgroups": 0,
                        "hosts": 10,
                        "pods": 3,
                        "protection_groups": 1,
                        "purity_version": "5.0.4",
                        "snapshots": 1,
                        "volume_groups": 2
                    },
                    "hgroups": {},
                    "hosts": {
                        "host1": {
                            "hgroup": null,
                            "iqn": [
                                "iqn.1994-05.com.redhat:2f6f5715a533"
                            ],
                            "wwn": []
                        },
                        "host2": {
                            "hgroup": null,
                            "iqn": [
                                "iqn.1994-05.com.redhat:d17fb13fe0b"
                            ],
                            "wwn": []
                        },
                        "host3": {
                            "hgroup": null,
                            "iqn": [
                                "iqn.1994-05.com.redhat:97b1351bfb2"
                            ],
                            "wwn": []
                        },
                        "host4": {
                            "hgroup": null,
                            "iqn": [
                                "iqn.1994-05.com.redhat:dd84e9a7b2cb"
                            ],
                            "wwn": [
                                "10000000C96C48D1",
                                "10000000C96C48D2"
                            ]
                        }
                    },
                    "interfaces": {
                        "CT0.ETH4": "iqn.2010-06.com.purestorage:flasharray.2111b767484e4682",
                        "CT0.ETH5": "iqn.2010-06.com.purestorage:flasharray.2111b767484e4682",
                        "CT1.ETH4": "iqn.2010-06.com.purestorage:flasharray.2111b767484e4682",
                        "CT1.ETH5": "iqn.2010-06.com.purestorage:flasharray.2111b767484e4682"
                    },
                    "network": {
                        "ct0.eth0": {
                            "address": "10.10.10.10",
                            "gateway": "10.10.10.1",
                            "hwaddr": "ec:f4:bb:c8:8a:04",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "management"
                            ],
                            "speed": 1000000000
                        },
                        "ct0.eth2": {
                            "address": "10.10.10.11",
                            "gateway": null,
                            "hwaddr": "ec:f4:bb:c8:8a:00",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "replication"
                            ],
                            "speed": 10000000000
                        },
                        "ct0.eth3": {
                            "address": "10.10.10.12",
                            "gateway": null,
                            "hwaddr": "ec:f4:bb:c8:8a:02",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "replication"
                            ],
                            "speed": 10000000000
                        },
                        "ct0.eth4": {
                            "address": "10.10.10.13",
                            "gateway": null,
                            "hwaddr": "90:e2:ba:83:79:0c",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "iscsi"
                            ],
                            "speed": 10000000000
                        },
                        "ct0.eth5": {
                            "address": "10.10.10.14",
                            "gateway": null,
                            "hwaddr": "90:e2:ba:83:79:0d",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "iscsi"
                            ],
                            "speed": 10000000000
                        },
                        "vir0": {
                            "address": "10.10.10.20",
                            "gateway": "10.10.10.1",
                            "hwaddr": "fe:ba:e9:e7:6b:0f",
                            "mtu": 1500,
                            "netmask": "255.255.255.0",
                            "services": [
                                "management"
                            ],
                            "speed": 1000000000
                        }
                    },
                    "offload": {
                        "nfstarget": {
                            "address": "10.0.2.53",
                            "mount_options": null,
                            "mount_point": "/offload",
                            "protocol": "nfs",
                            "status": "scanning"
                        }
                    },
                    "performance": {
                        "input_per_sec": 8191,
                        "output_per_sec": 0,
                        "queue_depth": 1,
                        "reads_per_sec": 0,
                        "san_usec_per_write_op": 15,
                        "usec_per_read_op": 0,
                        "usec_per_write_op": 642,
                        "writes_per_sec": 2
                    },
                    "pgroups": {
                        "consisgroup-07b6b983-986e-46f5-bdc3-deaa3dbb299e-cinder": {
                            "hgroups": null,
                            "hosts": null,
                            "source": "host1",
                            "targets": null,
                            "volumes": [
                                "volume-1"
                            ]
                        }
                    },
                    "pods": {
                        "srm-pod": {
                            "arrays": [
                                {
                                    "array_id": "52595f7e-b460-4b46-8851-a5defd2ac192",
                                    "mediator_status": "online",
                                    "name": "sn1-405-c09-37",
                                    "status": "online"
                                },
                                {
                                    "array_id": "a2c32301-f8a0-4382-949b-e69b552ce8ca",
                                    "mediator_status": "online",
                                    "name": "sn1-420-c11-31",
                                    "status": "online"
                                }
                            ],
                            "source": null
                        }
                    },
                    "snapshots": {
                        "consisgroup.cgsnapshot": {
                            "created": "2018-03-28T09:34:02Z",
                            "size": 13958643712,
                            "source": "volume-1"
                        }
                    },
                    "subnet": {},
                    "vgroups": {
                        "vvol--vSphere-HA-0ffc7dd1-vg": {
                            "volumes": [
                                "vvol--vSphere-HA-0ffc7dd1-vg/Config-aad5d7c6"
                            ]
                        }
                    },
                    "volumes": {
                        "ansible_data": {
                            "bandwidth": null,
                            "hosts": [
                                [
                                    "host1",
                                    1
                                ]
                            ],
                            "serial": "43BE47C12334399B000114A6",
                            "size": 1099511627776,
                            "source": null
                        }
                    }
                },
                "type": "complex"
            }
        }
    }
}
